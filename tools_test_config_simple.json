{
  "get_account_balance": {
    "name": "get_account_balance",
    "description": "查询账户余额。返回指定币种或所有币种的可用余额、冻结余额等信息。下单前必须调用此工具确认有足够的资金。根据交易限制配置，如果固定USDT资金不足，将使用账户总资金的百分比。",
    "category": "query",
    "risk_level": "low",
    "parameters": {
      "ccy": {
        "type": "string",
        "description": "币种，如 BTC、USDT。不填则返回所有币种余额",
        "required": false
      }
    },
    "required_params": [],
    "test_cases": [
      {
        "name": "查询USDT余额",
        "parameters": {
          "ccy": "USDT"
        },
        "description": "查询USDT的可用余额"
      }
    ]
  },
  "get_current_price": {
    "name": "get_current_price",
    "description": "获取交易对当前市场价格。返回最新成交价、买一价、卖一价等实时行情信息。用于判断合适的下单价格。",
    "category": "query",
    "risk_level": "low",
    "parameters": {
      "inst_id": {
        "type": "string",
        "description": "交易对，如 ETH-USDT",
        "required": true
      }
    },
    "required_params": [
      "inst_id"
    ],
    "test_cases": [
      {
        "name": "查询ETH-USDT价格",
        "parameters": {
          "inst_id": "ETH-USDT"
        },
        "description": "获取ETH-USDT的当前价格"
      }
    ]
  },
  "get_prediction_history": {
    "name": "get_prediction_history",
    "description": "查询Kronos模型的历史预测数据。返回指定训练版本的所有历史推理批次及其预测结果。",
    "category": "query",
    "risk_level": "low",
    "parameters": {
      "training_id": {
        "type": "integer",
        "description": "训练记录ID。如果不指定，则返回当前计划最新训练版本的预测历史",
        "required": false
      },
      "inference_batch_id": {
        "type": "string",
        "description": "推理批次ID。如果指定，则只返回该批次的详细预测数据；不指定则返回所有批次列表",
        "required": false
      },
      "limit": {
        "type": "integer",
        "description": "返回批次数量，默认10，最大50",
        "required": false
      }
    },
    "required_params": [],
    "test_cases": [
      {
        "name": "查询预测历史(默认)",
        "parameters": {},
        "description": "查询当前计划最新训练版本的预测历史"
      }
    ]
  },
  "query_prediction_data": {
    "name": "query_prediction_data",
    "description": "查询数据库中存储的预测数据。可以按时间范围、批次ID等条件查询，支持详细的OHLC数据查询。",
    "category": "query",
    "risk_level": "low",
    "parameters": {
      "training_id": {
        "type": "integer",
        "description": "训练记录ID，用于筛选特定训练版本的预测数据",
        "required": false
      },
      "inference_batch_id": {
        "type": "string",
        "description": "推理批次ID，用于筛选特定批次的预测数据",
        "required": false
      },
      "start_time": {
        "type": "string",
        "description": "开始时间，格式：YYYY-MM-DD HH:MM:SS",
        "required": false
      },
      "end_time": {
        "type": "string",
        "description": "结束时间，格式：YYYY-MM-DD HH:MM:SS",
        "required": false
      },
      "limit": {
        "type": "integer",
        "description": "返回数据条数，默认50，最大200",
        "required": false
      },
      "order_by": {
        "type": "string",
        "description": "排序方式：'time_asc'(时间升序), 'time_desc'(时间降序), 'created_asc', 'created_desc'",
        "required": false
      }
    },
    "required_params": [],
    "test_cases": [
      {
        "name": "查询最近预测数据",
        "parameters": {
          "limit": 20,
          "order_by": "time_desc"
        },
        "description": "查询最近20条预测数据，按时间倒序"
      }
    ]
  },
  "place_limit_order": {
    "name": "place_limit_order",
    "description": "下限价单。限价单以指定价格买入或卖出，只有当市场价格达到或优于限价时才会成交。",
    "category": "trade",
    "risk_level": "high",
    "parameters": {
      "inst_id": {
        "type": "string",
        "description": "交易对，如 ETH-USDT",
        "required": true
      },
      "side": {
        "type": "string",
        "description": "订单方向：buy(买入) 或 sell(卖出)",
        "required": true
      },
      "price": {
        "type": "string",
        "description": "限价价格。买入时不能高于卖一价的105%，卖出时不能低于买一价的95%",
        "required": true
      },
      "size": {
        "type": "string",
        "description": "委托数量（基础货币数量，如ETH的数量）。如果不指定，系统将根据交易限制自动计算",
        "required": false
      },
      "total_amount": {
        "type": "string",
        "description": "总交易金额（USDT）。如果不指定size，系统将根据此金额和价格计算数量",
        "required": false
      }
    },
    "required_params": [
      "inst_id",
      "side",
      "price"
    ],
    "test_cases": [
      {
        "name": "安全买入限价单测试",
        "parameters": {
          "inst_id": "ETH-USDT",
          "side": "buy",
          "price": "100",
          "total_amount": "10"
        },
        "description": "测试买入限价单，价格远低于市场价确保不会成交"
      }
    ]
  },
  "place_stop_loss_order": {
    "name": "place_stop_loss_order",
    "description": "设置止损订单。当价格达到指定止损比例时自动卖出，用于控制风险。",
    "category": "trade",
    "risk_level": "high",
    "parameters": {
      "inst_id": {
        "type": "string",
        "description": "交易对，如 ETH-USDT",
        "required": true
      },
      "stop_loss_percentage": {
        "type": "string",
        "description": "止损百分比，如 0.2 表示20%的止损。如果不指定，使用计划配置的默认值",
        "required": false
      }
    },
    "required_params": [
      "inst_id"
    ],
    "test_cases": [
      {
        "name": "设置ETH-USDT止损订单",
        "parameters": {
          "inst_id": "ETH-USDT",
          "stop_loss_percentage": "0.1"
        },
        "description": "为ETH-USDT设置10%的止损保护（仅在有持仓时生效）"
      }
    ]
  }
}